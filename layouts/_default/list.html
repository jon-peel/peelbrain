{{ define "main" }}
    <!-- Latest Post Preview -->
    {{ $latestPost := index .Site.RegularPages 0 }}
    {{ if $latestPost }}
    <h2>Latest Post</h2>
    <article class="latest-post">
        <h3><a href="{{ $latestPost.Permalink }}">{{ $latestPost.Title }}</a></h3>
        <p class="meta">Posted: {{ $latestPost.Date.Format "2006-01-02" }}</p>
        {{ $latestPost.Summary }}
        {{ if $latestPost.Truncated }}
        <p><a href="{{ $latestPost.Permalink }}">Read more...</a></p>
        {{ end }}
    </article>
    <hr>
    {{ end }}

    <!-- Next 9 Posts List -->
    {{ $nextPosts := after 1 .Site.RegularPages }}
    {{ $nextPosts = first 9 $nextPosts }}
    {{ if $nextPosts }}
    <h2>Recent Posts</h2>
    <ul class="post-list">
        {{ range $nextPosts }}
        <li>
            <a href="{{ .Permalink }}">{{ .Title }}</a>
            <span class="meta">{{ .Date.Format "2006-01-02" }}</span>
        </li>
        {{ end }}
    </ul>
    {{ end }}

    <p><a href="/posts/">← All Posts</a></p>
    <hr>

    <!-- Popular Tags -->
    <h3>Popular Tags</h3>
    {{ range .Site.Taxonomies.tags }}
    <a href="{{ .Page.Permalink }}" class="tag-link">{{ .Page.Title }} ({{ len . }})</a>
    {{ end }}
    <p><a href="/tags/">← All Tags</a></p>
{{ end }}
